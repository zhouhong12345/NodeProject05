var $editor=function(){var t=$('<div class="big"><textarea class="textArea"></textarea></div>'),e=$(".all"),l=t.find(".textArea");return{change:function(t){console.log(t.style),"斜体"==t.style?l.css({"font-family":t.font,"font-style":"italic","font-size":t.size+"px"}):"粗体"==t.style?l.css({"font-family":t.font,"font-weight":"bold","font-size":t.size+"px"}):"粗偏斜体"==t.style&&l.css({"font-family":t.font,"font-weight":"bold","font-style":"italic","font-size":t.size+"px"})},show:function(){l.css({"font-family":"Arial","font-size":"16px"}),e.append(t)}}}(),$menubar=function(){var o,a=$("<div class='topall'></div>"),r=($(".all"),[]),n=[],s="false";return{show:function(t){o=t},init:function(){!function(){for(var t=$("<ul class='headall'></ul>"),e=0;e<o.length;e++){var l=$("<li class='headsall'></li>");l.html(o[e].title),t.append(l),n.push(l),function(e){l.click(function(t){"false"===s?(r[e].css("display","inline-block"),s=e):s===e?(r[e].css("display","none"),s="false"):s!==e&&(r[e].css("display","inline-block"),r[s].css("display","none"),s=e),t.stopPropagation()}),$("body").click(function(){r[e].css("display","none"),s="false"}),l.hover(function(){n[e].css("background-color","#d2e9ff"),"false"!==s&&(r[e].css("display","inline-block"),r[s].css("display","none"),s=e)},function(){n[e].css("background-color","white")})}(e)}a.append(t),$(".all").append(a)}(),function(){for(var t=0;t<o.length;t++){for(var e=$("<ul class='termall'></div>"),l=o[t].expands,n=0;n<l.length;n++)if("hr"==l[n].title){var s=$("<li class='lineall'></li>");e.append(s)}else{var i=$("<li class='termsall'></li>");if(i.html(l[n].title),""!==l[n].shortcut){var c=$("<span class='add'><span>");c.html(l[n].shortcut),i.append(c)}0==l[n].enabled&&(i.attr("disabled",!0),i.css("color","gray")),2==t&1==n&&i.click(function(){$setFont.show()}),e.append(i),i.hover(function(){$(this).attr("disabled")?$(this).css("background-color","#E0E0E0"):$(this).css("background-color","#84c1ff")},function(){$(this).css("background-color","#F0F0F0")})}e.css("left",o[t].left),a.append(e),r.push(e)}}()}}}(),$setFont=function(){var t=$('<div class="fontall"><div class="fontinner"><div class="fonttop"><p class="title">字体</p><span class="close-btn">✖</span></div><div class="main"><div class="font-family"><p>字体(F):</p></div><div class="font-style"><p>字形(Y):</p></div><div class="font-size"><p>大小(s):</p></div><fieldset class="example"><legend>示例</legend><p class="txt">AaBbYyZz</p></fieldset><div class="foot"><p>脚本(R):</p><select><option value="西欧语言">西欧语言</option><option value="中文 GB2312">中文 GB2312</option></select></div><input class="yes" type="button" value="确定"/><input class="no" type="button" value="取消"/></div></div><div>'),e=-1,s=["Agency FB","Algerian","Arial","Arial Rounded MT","Axure Handwriting","Bahnschrift","Baskerville Old Face","Bauhaus 93","Bell MT","Berlin Sans FB","Bernard MT","BlackAdder ITC"],i=["常规","斜体","粗体","粗偏斜体"],c=["8","9","10","11","12","14","16","18","20","22","24","26","28","36","48","72"],o={font:"Arial",style:"常规",size:"16"},a=$('<input class="left" type="text" value="Algerian"/>'),r=$('<input class="middle" type="text" value="粗偏斜体"/>'),d=$('<input class="right" type="text" value="16"/>'),h=$('<ul class="aa"></ul>'),u=$('<ul class="bb"></ul>'),f=$('<ul class="cc"></ul>');function p(t){"斜体"==(o.style=t)?$(".txt").css("font-style","italic"):"粗体"==t?$(".txt").css("font-weight","bold"):"粗偏斜体"==t&&$(".txt").css({"font-weight":"bold","font-style":"italic"})}function l(){t.remove()}return{show:function(){$("body").append(t),$(".yes").click(function(){$editor.change(o),l()}),0!==$(".aa").children().length&&0!==$(".bb").children().length&&0!==$(".cc").children().length&&($(".aa").children().click(function(){a.attr("value",$(this).context.innerHTML),$(this).css({"background-color":"#0078D7",color:"white"}).siblings().css({"background-color":"white",color:"black"}),$(".txt").css("font-family",$(this).context.innerHTML),o.font=$(this).context.innerHTML}),$(".bb").children().click(function(){r.attr("value",$(this).context.innerHTML),$(this).css({"background-color":"#0078D7",color:"white"}).siblings().css({"background-color":"white",color:"black"}),p($(this).context.innerHTML)}),$(".cc").children().click(function(){d.attr("value",$(this).context.innerHTML),$(this).css({"background-color":"#0078D7",color:"white"}).siblings().css({"background-color":"white",color:"black"}),$(".txt").css("font-size",$(this).context.innerHTML+"px"),o.size=$(this).context.innerHTML})),-1==e&&function(){$(".font-family").append(a).append(h),$(".font-style").append(r).append(u),$(".font-size").append(d).append(f);for(var t=0;t<s.length;t++){var e=$('<li class="item"></li>');e.html(s[t]),h.append(e),$(e).css("font-family",s[t]),e.click(function(){a.attr("value",$(this).context.innerHTML),$(this).css({"background-color":"#0078D7",color:"white"}).siblings().css({"background-color":"white",color:"black"}),$(".txt").css("font-family",$(this).context.innerHTML),o.font=$(this).context.innerHTML})}for(t=0;t<i.length;t++){var l=$('<li class="item"></li>');l.html(i[t]),u.append(l),"斜体"==l[0].innerHTML?l.css("font-style","italic"):"粗体"==l[0].innerHTML?l.css("font-weight","bold"):"粗偏斜体"==l[0].innerHTML&&l.css({"font-weight":"bold","font-style":"italic"}),l.click(function(){r.attr("value",$(this).context.innerHTML),$(this).css({"background-color":"#0078D7",color:"white"}).siblings().css({"background-color":"white",color:"black"}),p($(this).context.innerHTML)})}for(t=0;t<c.length;t++){var n=$('<li class="item"></li>');n.html(c[t]),f.append(n),n.click(function(){d.attr("value",$(this).context.innerHTML),$(this).css({"background-color":"#0078D7",color:"white"}).siblings().css({"background-color":"white",color:"black"}),$(".txt").css("font-size",$(this).context.innerHTML+"px"),o.size=$(this).context.innerHTML})}}(),$(".close-btn").click(function(){e=1,l()}),$(".no").click(function(){e=1,l()})}}}(),list={};$(function(){$menubar.show(list.menuData),$menubar.init(),$editor.show()}),list.menuData=[{title:"文件(F)",left:"0px",expands:[{title:"新建(N)",shortcut:"Ctrl+N",enabled:!0},{title:"新窗口(W)",shortcut:"Ctrl+Shift+N",enabled:!0},{title:"打开(O)",shortcut:"Ctrl+O",enabled:!0},{title:"保存(S)",shortcut:"Ctrl+S",enabled:!0},{title:"另存为(A)",shortcut:"Ctrl+Shift+S",enabled:!0},{title:"hr",shortcut:"",enabled:!0},{title:"页面设置(U)",shortcut:"",enabled:!0},{title:"打印(P)",shortcut:"Ctrl+P",enabled:!0},{title:"hr",shortcut:"",enabled:!0},{title:"退出(X)",shortcut:"",enabled:!0}]},{title:"编辑(E)",left:"62px",expands:[{title:"撤销(U)",shortcut:"Ctrl+Z",enabled:!1},{title:"hr",shortcut:"",enabled:!0},{title:"剪切(T)",shortcut:"Ctrl+X",enabled:!1},{title:"复制(C)",shortcut:"Ctrl+C",enabled:!1},{title:"粘贴(P)",shortcut:"Ctrl+V",enabled:!0},{title:"删除(L)",shortcut:"Del",enabled:!1},{title:"hr",shortcut:"",enabled:!0},{title:"使用Bing搜索...",shortcut:"Ctrl+E",enabled:!0},{title:"查找(F)",shortcut:"Ctrl+F",enabled:!0},{title:"查找下一个(N)",shortcut:"F3",enabled:!0},{title:"查找上一个(V)",shortcut:"Shift+F3",enabled:!0},{title:"替换(R)",shortcut:"Ctrl+H",enabled:!0},{title:"转到(G)",shortcut:"Ctrl+G",enabled:!1},{title:"hr",shortcut:"",enabled:!0},{title:"全选(A)",shortcut:"Ctrl+A",enabled:!0},{title:"时间/日期(D)",shortcut:"F5",enabled:!0}]},{title:"格式(O)",left:"124px",expands:[{title:"自动换行(W)",shortcut:"",enabled:!0},{title:"字体(F)...",shortcut:"",enabled:!0}]},{title:"查看(V)",left:"186px",expands:[{title:"缩放(Z)",shortcut:">",enabled:!0},{title:"状态栏(S)",shortcut:"",enabled:!0}]},{title:"帮助(Z)",left:"248px",expands:[{title:"查看帮助(H)",shortcut:"",enabled:!0},{title:"发送反馈(F)",shortcut:"",enabled:!0},{title:"hr",shortcut:"",enabled:!0},{title:"关于记事本(A)",shortcut:"",enabled:!0}]}];